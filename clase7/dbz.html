<html>
	<head>
		<title>Personajes de DBZ</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	</head>
	
	<body onload="cargarDatos();">
		<div class="container mt-4">
			<h3>Personajes de DBZ</h3>
			
			<table class="table table-sttripe">
				<thead>
					<tr>
						<th>Foto</th>
						<th>Nombre</th>
						<th>Kiii</th>
					</tr>
				</thead>
				<tbody id="tbDestino">
				
				</tbody>
			</table>
		
			<div class="row" id="divTorneo">
			
			</div>
		
		</div>
		
		<script>
		
		function cargarDatos(){
			
			let url = "https://dragonball-api.com/api/characters?limit=100";
			
			let destino = document.getElementById('divTorneo');
			
			let tDestino = document.getElementById('tbDestino');
			
			fetch(url)
			.then(response => response.json())
			.then(data => {
					personajes = data.items;
					
					for(x=0; x < personajes.length; x++){
						div = document.createElement('div');
						div.setAttribute('class', 'col col-md-4 col-sm-1');
						
						let pers = personajes[x];
						
						pers.des_corto = pers.description;
						if(pers.description.length > 60){
							pers.des_corto = pers.description.substr(0,60) + '...';
						}
						
						div.innerHTML  = `
							<div class="card mb-3" >
							  <div class="card-img-top"
								style="background:url('${pers.image}') no-repeat; height:300px;
								background-position:top; background-size:cover;
								"
							  ></div>
							  <div class="card-body">
								<h5 class="card-title">${pers.name}</h5>
								<p class="card-text">${pers.des_corto}</p>
								
							  </div>
							</div>`;
						destino.appendChild(div);
						
						
						//para la tabla
						
						trx = document.createElement('tr');
						trx.innerHTML = `
							<td><img src="${pers.image}" style="height:100px"></td>
							<td>${pers.name}</td>
							<td>${pers.ki}</td>
							
						`;
						
						tDestino.appendChild(trx);
					}
					
					
					
				}
			).catch(error => {alert("Error al cargar los datos"); });
			
		}
		</script>
		
	
	</body>

</html>